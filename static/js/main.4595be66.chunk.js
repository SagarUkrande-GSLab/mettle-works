(this["webpackJsonpmettle-works"]=this["webpackJsonpmettle-works"]||[]).push([[0],{30:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),o=n(24),i=n.n(o),r=(n(30),n(12)),a=n(13),l=n(15),d=n(14),u=n(10),m=n(2),h=n(11),p=n.n(h),f=n(19),v=n(7),g=n(1),j=function(e){var t=e.contents;return Object(g.jsx)("div",{className:"page-container",children:Object(g.jsx)("div",{id:"root",className:"App",children:Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:t},className:"mw-content-ltr sitedir-ltr ltr mw-body-content parsoid-body mediawiki mw-parser-output"})})})},A=(n(33),n(34),n(18)),b=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={mousedown:!1},s}return Object(a.a)(n,[{key:"componentWillMount",value:function(){console.log("componentWillMount")}},{key:"componentDidMount",value:function(){console.log("componentDidUpdate");var e=document,t=(document.documentElement,e.body),n=window,s=e.createElement("div"),c=e.createElement("div"),o=e.createElement("div"),i=e.createElement("div"),r=.1;s.className="slider",c.className="slider__size",o.className="slider__controller",i.className+=" slider__content",i.style.transformOrigin="0 0",s.appendChild(c),s.appendChild(o),s.appendChild(i),t.appendChild(s);this.props.rootId;console.log("componentDidMount");var a=document.getElementById(this.props.rootId).cloneNode(!0);a.className="minimap noselect "+this.props.rootId,i.appendChild(a),this.getDimensions(),n.addEventListener("resize",this.getDimensions()),n.addEventListener("load",this.getDimensions()),n.addEventListener("scroll",(function(){o.style.transform="translate("+n.pageXOffset*r+"px, "+n.pageYOffset*r+"px)"}));var l=0,d=0,u=!1;function m(e){e.preventDefault(),u=!0,d=e.touches?e.touches[0].clientX:e.clientX,l=e.touches?e.touches[0].clientY:e.clientY;var t=(d-s.offsetLeft-o.clientWidth/2)/r,c=(l-s.offsetTop-o.clientHeight/2)/r;n.scrollTo(t,c)}function h(e){if(u){e.preventDefault();var t=e.touches?e.touches[0].clientX:e.clientX,s=e.touches?e.touches[0].clientY:e.clientY;n.scrollBy((t-d)/r,(s-l)/r),d=t,l=s}}function p(e){u=!1}function f(e){e.target===t&&(u=!1)}s.addEventListener("mousedown",m),s.addEventListener("touchdown",m),n.addEventListener("mousemove",h),n.addEventListener("touchmove",h),n.addEventListener("mouseup",p),n.addEventListener("touchend",p),t.addEventListener("mouseleave",f),t.addEventListener("touchleave",f)}},{key:"componentDidUpdate",value:function(){console.log("componentDidUpdate");var e=document.getElementsByClassName("minimap")[0],t=document.getElementsByClassName("slider__controller")[0];t.parentNode.removeChild(t),e.parentNode.removeChild(e);this.props.rootId;console.log("componentDidMount");var n=document,s=(document.documentElement,n.body),c=window,o=.1,i=document.getElementById(this.props.rootId),r=document.getElementByClass("slider__controller")[0],a=document.getElementsByClassName("slider__content")[0],l=document.getElementsByClassName("slider")[0],d=(document.getElementsByClassName("slider__size")[0],i.cloneNode(!0));d.className="minimap noselect "+this.props.rootId,a.appendChild(d),this.getDimensions(),c.addEventListener("resize",this.getDimensions()),c.addEventListener("load",this.getDimensions()),c.addEventListener("scroll",(function(){r.style.transform="translate("+c.pageXOffset*o+"px, "+c.pageYOffset*o+"px)"}));var u=0,m=0,h=!1;function p(e){e.preventDefault(),h=!0,m=e.touches?e.touches[0].clientX:e.clientX,u=e.touches?e.touches[0].clientY:e.clientY;var t=(m-l.offsetLeft-r.clientWidth/2)/o,n=(u-l.offsetTop-r.clientHeight/2)/o;c.scrollTo(t,n)}function f(e){if(h){e.preventDefault();var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;c.scrollBy((t-m)/o,(n-u)/o),m=t,u=n}}function v(e){h=!1}function g(e){e.target===s&&(h=!1)}l.addEventListener("mousedown",p),l.addEventListener("touchdown",p),c.addEventListener("mousemove",f),c.addEventListener("touchmove",f),c.addEventListener("mouseup",v),c.addEventListener("touchend",v),s.addEventListener("mouseleave",g),s.addEventListener("touchleave",g)}},{key:"getDimensions",value:function(){var e=this.props.rootId,t=document.getElementById(this.props.rootId);if("undefined"===typeof t&&null===t)return!1;var n=document.getElementsByClassName("minimap")[0];if("undefined"===typeof n)return!1;if("undefined"===typeof n)return!1;var s,c=document.getElementsByClassName("slider__content")[0],o=document.getElementsByClassName("slider")[0],i=document.getElementsByClassName("slider__size")[0],r=document.getElementsByClassName("slider__controller")[0],a=document,l=(document.documentElement,a.body),d=window,u=l.clientWidth,m=l.clientHeight,h=l.clientHeight/u,p=d.innerHeight/d.innerWidth,f=.1;o.style.height=document.documentElement.clientHeight+"px",o.style.position="5px",s=o.clientWidth/u,o.clientHeight,i.style.paddingTop=100*h+"%",r.style.paddingTop=100*p+"%";var v,g,j,A=document.getElementsByClassName("minimap")[0];if(console.log("clientHeight",document.documentElement.clientHeight),A.offsetHeight<=7e3){v={x:document.getElementById(e).clientWidth/A.clientWidth*.07,y:document.getElementById(e).clientHeight/A.clientHeight*.1}}else{v={x:document.documentElement.clientWidth/A.clientWidth*.08,y:document.documentElement.clientHeight/A.clientHeight*.95}}v.x,v.y,g=document.documentElement.clientWidth*(1/f.x)*.08,j=document.documentElement*(1/f.y)*.95,n.style.transform="scale(0.0807, 0.01063)",n.style["-webkit-transform"]="scale(0.0807, 0.01063)",n.style["-moz-transform"]="scale(0.0807, 0.01063)",n.style["-ms-transform"]="scale(0.0807, 0.01063)",n.style.width=g+"px",n.style.height=j+"px",n.style.margin="0px",n.style.padding="0px",c.style.width=100/s+"%",c.style.height=100/s+"%"}},{key:"render",value:function(){return Object(g.jsx)("div",{})}}]),n}(s.Component),O=function(e){e.contentToHighlight,e.submitForm;var t=e.showMinimap,n=Object(s.useState)(t),c=Object(v.a)(n,2),o=c[0],i=c[1],r=function(){i(!0)};return Object(s.useEffect)((function(){return window.addEventListener("scroll",(function(){r()}),!1),window.addEventListener("scroll",Object(A.debounce)((function(){i(!1)}),5e3)),function(){return window.removeEventListener("scroll",r)}}),[]),Object(g.jsx)("div",{children:o&&Object(g.jsx)("div",{className:"minimap-container",id:"tests",children:Object(g.jsx)(b,{rootId:"root"})})})},y=(n(36),function(){var e=[];e.push('here<div style="background-color: green;">Green text goes here</div>here');var t=Object(m.f)(),n=Object(s.useState)([]),c=Object(v.a)(n,2),o=c[0],i=c[1],r=Object(s.useState)(!1),a=Object(v.a)(r,2),l=(a[0],a[1],Object(s.useState)()),d=Object(v.a)(l,2),u=(d[0],d[1],Object(s.useState)("")),h=Object(v.a)(u,2),A=h[0],b=h[1],y=Object(s.useState)(),E=Object(v.a)(y,2),x=E[0],w=E[1],C=Object(s.useState)(!1),N=Object(v.a)(C,2),L=N[0],B=N[1];function D(){return k.apply(this,arguments)}function k(){return(k=Object(f.a)(p.a.mark((function e(){var n,s,c,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams(t.search),s=n.get("query"),c=s&&s.substring(s.lastIndexOf("/")+1),e.next=5,fetch("https://en.m.wikipedia.org/w/rest.php/v1/page/".concat(c,"/html"));case 5:return o=e.sent,e.next=8,o.text();case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:t=e.sent,i(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[]);return Object(s.useEffect)((function(){var e=setTimeout((function(){w(A),A&&A.length&&B(!0)}),1e3);return function(){return clearTimeout(e)}}),[A]),Object(g.jsxs)("div",{className:"page-section",children:[Object(g.jsx)("input",{placeholder:"Enter search query",className:"search-query",type:"text",name:"name",value:A,onChange:function(e){b(e.target.value)}}),Object(g.jsx)("hr",{}),Object(g.jsx)(j,{contents:o}),Object(g.jsx)(O,{contentToHighlight:e,submitForm:x,showMinimap:L})]})}),E=(n(41),function(){return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"Home Page of Mettle Works (Under Progress)"}),Object(g.jsxs)("h4",{children:["Click ",Object(g.jsx)(u.b,{to:"/details?query=https://en.m.wikipedia.org/wiki/seattle",children:"here"})," to redirect to Details page"]})]})})}),x=function(){return Object(g.jsxs)(u.a,{children:[Object(g.jsx)(m.c,{children:Object(g.jsx)(m.a,{exact:!0,path:"/",component:E})}),Object(g.jsx)(m.c,{children:Object(g.jsx)(m.a,{exact:!0,path:"/details",component:y})})]})},w=(n(42),n(43),function(){return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("div",{className:"menu-bar",children:Object(g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAG6ADAAQAAAABAAAAGwAAAADVx3bDAAABBUlEQVRIDe2UwWrCQBCGZzZptEHxoCBsoGLfRHyBPmT1FXwAvUuP9dRCExoaeiokGjPbPYjC5JCMB/Gwe9mZ4Z/Z5efbBXDLOXAvDiC/SNTvD/1OJ+B1Sf6ZZb9Wv+c9PisofzB4UehNWV2QktFavyZJ8s6b+GFUEm26Bt+4sH1+hLwovtvrnVLoQI3GZ62fCCAUzjnLDzaycHzZ7e9cPAUcEAXgzT1PXU1jF9FEo2gRZ/Gu6TA6KLP26bjlQkmeZ7GjUWKYTFujcTKeTCuoerIxFzVCaYo0/fhpRWNAswe4/m9EVFRpvbT8N/+NkOerKgwfL3eVRWjRt+8slXU5tXPg1g78Aw5rSQg3SrIBAAAAAElFTkSuQmCC",alt:"menu",height:"36px",width:"36px"})}),Object(g.jsx)("div",{className:"icon-brand",children:"MettleWorks"})]})})}),C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(w,{}),Object(g.jsx)(x,{})]})}}]),n}(s.Component),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),o(e),i(e)}))};i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(C,{})}),document.getElementById("root")),N()}},[[44,1,2]]]);
//# sourceMappingURL=main.4595be66.chunk.js.map